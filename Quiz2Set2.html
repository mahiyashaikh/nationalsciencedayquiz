<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Science & Technology Quiz â€“ Set 2</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&display=swap" rel="stylesheet">
<style>
/* same CSS as Set 1 â€“ copy from above */
</style>
</head>
<body>

<!-- NO INTRO â€“ countdown then quiz -->
<div class="screen active" id="countdown">
    <h1 style="font-size:4rem;">Prepare for Launch</h1>
    <div id="countdownNumber">3</div>
</div>

<div class="screen" id="quiz">
    <div class="flashcard" onclick="nextCard()">
        <div id="cardText"></div>
    </div>
    <div class="timer-container">
        <span style="font-size:3rem;">â³</span>
        <div class="timer-ring" id="timerRing">10</div>
    </div>
</div>

<script>
// Audio functions â€“ same as Set1
let audioCtx = null;
function initAudio() { /* ... */ }
function beep(/*...*/) { /* ... */ }
function playCountdownBeep(s) { /* ... */ }
function playTick() { /* ... */ }
function playAnswerSound() { /* ... */ }
function playNextSound() { /* ... */ }
function playFanfare() { /* ... */ }

// Set 2 data
const data = [
    {q:"Father of Artificial Intelligence?", a:"John McCarthy"},
    {q:"Particle of strong nuclear force?", a:"Gluon"},
    {q:"Formula of heavy water?", a:"Dâ‚‚O"},
    {q:"Largest planet?", a:"Jupiter"},
    {q:"Full form of DNA?", a:"Deoxyribo Nucleic Acid"}
];

let i = 0, showAnswer = false, timer, currentSec = 10;

window.onload = function() {
    initAudio();
    startCountdown();
};

function startCountdown() {
    let count = 3;
    const countEl = document.getElementById('countdownNumber');
    countEl.innerText = count;
    playCountdownBeep(count);
    const cd = setInterval(() => {
        count--;
        if (count >= 0) {
            countEl.innerText = count || 'GO!';
            playCountdownBeep(count);
        }
        if (count < 0) {
            clearInterval(cd);
            document.getElementById('countdown').classList.remove('active');
            document.getElementById('quiz').classList.add('active');
            showQuestion();
        }
    }, 1000);
}

function showQuestion() {
    document.getElementById('cardText').innerText = "Q"+(i+1)+"\n\n"+data[i].q;
    showAnswer = false;
    playNextSound();
    startTimer();
}
function showAnswerCard() {
    document.getElementById('cardText').innerText = "âœ” ANSWER\n\n"+data[i].a;
    showAnswer = true;
    playAnswerSound();
    startTimer();
}
function nextCard() {
    clearInterval(timer);
    if (!showAnswer) showAnswerCard();
    else {
        i++;
        if (i >= data.length) {
            playFanfare();
            document.querySelector('.flashcard').innerHTML = `
                <div style="font-size:2.5rem;">
                ğŸ‰ SET 2 COMPLETED ğŸ‰<br><br>
                <button onclick="goNext()">âœ SET 3</button>
                </div>`;
            document.getElementById('timerRing').innerText = 'ğŸ†';
            return;
        }
        showQuestion();
    }
}
function startTimer() {
    currentSec = 10;
    updateTimerDisplay();
    timer = setInterval(() => {
        currentSec--;
        updateTimerDisplay();
        playTick();
        if (currentSec <= 0) {
            clearInterval(timer);   // timer ends silently â€“ no auto flip
        }
    }, 1000);
}
function updateTimerDisplay() {
    const ring = document.getElementById('timerRing');
    ring.innerText = currentSec;
    let deg = (currentSec / 10) * 360;
    ring.style.background = `conic-gradient(cyan ${deg}deg, transparent ${deg}deg)`;
}
function goNext() { window.location.href = "Quiz2Set3.html"; }
</script>
</body>
</html>
